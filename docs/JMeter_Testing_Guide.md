# ุฏููู ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ุจุงุณุชุฎุฏุงู JMeter ููุธุงู ุดููู (Shakwa)

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุงุณุชุฎุฏุงู Apache JMeter ูุงุฎุชุจุงุฑ ุฃุฏุงุก ุชุทุจูู ุดููู (Spring Boot REST API ุนูู ุงููููุฐ 13000).

---

## 1. ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### ุชุซุจูุช JMeter

1. **ุชุญููู JMeter:**
   - ุฒูุงุฑุฉ: https://jmeter.apache.org/download_jmeter.cgi
   - ุชุญููู ุฃุญุฏุซ ุฅุตุฏุงุฑ (ููุถู Binary zip)

2. **ุชุดุบูู JMeter:**
   - Windows: ุชุดุบูู `bin/jmeter.bat`
   - ุณูุชู ูุชุญ ูุงุฌูุฉ JMeter GUI

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

- Java 17 ุฃู ุฃุญุฏุซ (ูุธุงูู ูุณุชุฎุฏู Java 21 โ)
- ุชุทุจูู Shakwa ูุนูู ุนูู ุงููููุฐ 13000
- ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ูุชุตูุฉ

---

## 2. ุญุงูุงุช ุงูุงุฎุชุจุงุฑ ูุฑุชุจุฉ ุญุณุจ ุงูุฃูููุฉ

### ๐ ุงูุฃููููุฉ 1: ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ (Critical) - ูุฌุจ ุงูุจุฏุก ุจูุง

#### 1.1 ุชุณุฌูู ุงูุฏุฎูู ูุงููุตุงุฏูุฉ (Authentication)
**ุงูุฃูููุฉ:** โญโญโญโญโญ (ุฃุนูู ุฃููููุฉ)

**ุงูุณุจุจ:** ุฌููุน ูุงุฌูุงุช API ุชุญุชุงุฌ ุฅูู JWT token

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- Login endpoint (POST `/api/v1/citizen/login` ุฃู `/api/v1/employee/login`)
- ุงุณุชุฎุฑุงุฌ JWT token ูู ุงูุงุณุชุฌุงุจุฉ
- ุงุฎุชุจุงุฑ ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ (Response Time)
- ุงุฎุชุจุงุฑ ูุนุฏู ุงููุฌุงุญ (Success Rate)

**ุงููุนุงููุฑ:**
- Response Time: < 500ms (95th percentile)
- Success Rate: > 99%
- Concurrent Users: 50-100

---

#### 1.2 ุฌูุจ ูุงุฆูุฉ ุงูุดูุงูู (GET Complaints List)
**ุงูุฃูููุฉ:** โญโญโญโญโญ

**ุงูุณุจุจ:** ูุงุญุฏุฉ ูู ุฃูุซุฑ ุงูุนูููุงุช ุงุณุชุฎุฏุงูุงู

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- GET `/api/v1/complaints?page=0&size=10`
- ุงุฎุชุจุงุฑ ูุน pagination ูุฎุชููุฉ
- ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ูุน ุจูุงูุงุช ูุซูุฑุฉ

**ุงููุนุงููุฑ:**
- Response Time: < 1 second (95th percentile)
- Throughput: > 50 requests/second
- Concurrent Users: 50-200

---

#### 1.3 ุฅูุดุงุก ุดููู ุฌุฏูุฏุฉ (POST Create Complaint)
**ุงูุฃูููุฉ:** โญโญโญโญโญ

**ุงูุณุจุจ:** ุงูุนูููุฉ ุงูุฃุณุงุณูุฉ ูู ุงููุธุงู

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- POST `/api/v1/complaints` (ูุน ูููุงุช attachments)
- ุงุฎุชุจุงุฑ ุฑูุน ุงููููุงุช (File Upload)
- ุงุฎุชุจุงุฑ ุญุฌู ุงููููุงุช ุงููุฎุชููุฉ

**ุงููุนุงููุฑ:**
- Response Time: < 2 seconds (ููุดููู ุจุฏูู ูููุงุช)
- Response Time: < 5 seconds (ููุดููู ูุน ูููุงุช)
- Success Rate: > 95%

---

### ๐ ุงูุฃููููุฉ 2: ุงุฎุชุจุงุฑุงุช ูููุฉ (Important)

#### 2.1 ุฌูุจ ุดููู ูุญุฏุฏุฉ (GET Complaint by ID)
**ุงูุฃูููุฉ:** โญโญโญโญ

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- GET `/api/v1/complaints/{id}`
- ุงุฎุชุจุงุฑ ูุน IDs ูุฎุชููุฉ

**ุงููุนุงููุฑ:**
- Response Time: < 500ms

---

#### 2.2 ุงูุจุญุซ ูุงูููุชุฑุฉ (Search & Filter)
**ุงูุฃูููุฉ:** โญโญโญโญ

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- GET `/api/v1/complaints/status/{status}`
- GET `/api/v1/complaints/type/{type}`
- GET `/api/v1/complaints/governorate/{governorate}`

**ุงููุนุงููุฑ:**
- Response Time: < 1 second

---

#### 2.3 ุชุญุฏูุซ ุญุงูุฉ ุงูุดููู (Update Complaint Status)
**ุงูุฃูููุฉ:** โญโญโญโญ

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- PUT `/api/v1/complaints/{id}/status`
- ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ ุงููุชุฒุงูู (Concurrency)

**ุงููุนุงููุฑ:**
- Response Time: < 1 second
- ุงุฎุชุจุงุฑ Race Conditions

---

### ๐ ุงูุฃููููุฉ 3: ุงุฎุชุจุงุฑุงุช ุซุงูููุฉ (Secondary)

#### 3.1 ุงูุฅุดุนุงุฑุงุช (Notifications)
**ุงูุฃูููุฉ:** โญโญโญ

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- POST `/api/v1/notifications` (ุฅูุดุงุก ุฅุดุนุงุฑ)
- GET `/api/v1/notifications` (ุฌูุจ ุงูุฅุดุนุงุฑุงุช)

**ููุงุญุธุฉ:** ูุชุทูุจ ุงุชุตุงู ุจู Firebase

---

#### 3.2 ุงูุชูุงุฑูุฑ (Reports)
**ุงูุฃูููุฉ:** โญโญโญ

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- GET `/api/v1/reports/complaints` (ุชูููุฏ ุชูุงุฑูุฑ)
- ุงุฎุชุจุงุฑ ุชุตุฏูุฑ PDF/CSV

**ุงููุนุงููุฑ:**
- Response Time: < 3 seconds (ููุชูุงุฑูุฑ ุงููุจูุฑุฉ)

---

#### 3.3 ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (User Management)
**ุงูุฃูููุฉ:** โญโญ

**ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ:**
- GET `/api/v1/users`
- POST `/api/v1/citizen` (ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ) 

---

### ๐ ุงูุฃููููุฉ 4: ุงุฎุชุจุงุฑุงุช ุฅุถุงููุฉ (Additional)

#### 4.1 Dashboard & Admin APIs
**ุงูุฃูููุฉ:** โญโญ

#### 4.2 Audit Logs
**ุงูุฃูููุฉ:** โญ

#### 4.3 Metadata APIs
**ุงูุฃูููุฉ:** โญ

---

## 3. ุฎุทุฉ ุงูุงุฎุชุจุงุฑ ุงูููุชุฑุญุฉ (Test Plan Structure)

### ุงููุฑุญูุฉ 1: ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ (Unit Load Tests)
- **ุงููุฏู:** ุงูุชุญูู ูู ุนูู ูู endpoint ุจุดูู ูุฑุฏู
- **ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู:** 1-10
- **ุงููุฏุฉ:** 5 ุฏูุงุฆู ููู endpoint

### ุงููุฑุญูุฉ 2: ุงุฎุชุจุงุฑุงุช ุงูุญูููุฉ (Load Tests)
- **ุงููุฏู:** ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ุชุญุช ุญูููุฉ ุนุงุฏูุฉ
- **ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู:** 50-100
- **ุงููุฏุฉ:** 10-15 ุฏูููุฉ

### ุงููุฑุญูุฉ 3: ุงุฎุชุจุงุฑุงุช ุงูุถุบุท (Stress Tests)
- **ุงููุฏู:** ุงูุนุซูุฑ ุนูู ููุทุฉ ุงููุดู
- **ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู:** 200-500
- **ุงููุฏุฉ:** 15-30 ุฏูููุฉ
- **ุงุณุชุฑุงุชูุฌูุฉ:** ุฒูุงุฏุฉ ุชุฏุฑูุฌูุฉ (Ramp-up)

### ุงููุฑุญูุฉ 4: ุงุฎุชุจุงุฑุงุช ุงูุชุญูู (Endurance/Soak Tests)
- **ุงููุฏู:** ุงุฎุชุจุงุฑ ุงูุงุณุชูุฑุงุฑ ุนูู ุงููุฏู ุงูุทููู
- **ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู:** 50-100
- **ุงููุฏุฉ:** 1-4 ุณุงุนุงุช

### ุงููุฑุญูุฉ 5: ุงุฎุชุจุงุฑุงุช Spike Tests
- **ุงููุฏู:** ุงุฎุชุจุงุฑ ุงูุงุณุชุฌุงุจุฉ ููุญูู ุงูููุงุฌุฆ
- **ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู:** 0 โ 300 โ 0
- **ุงููุฏุฉ:** 10 ุฏูุงุฆู

---

## 4. ุฅุนุฏุงุฏุงุช JMeter ุงูุฃุณุงุณูุฉ

### Test Plan Structure ุงูููุตู ุจู:

```
Test Plan
โโโ Thread Group (Users)
โ   โโโ HTTP Request Defaults
โ   โโโ HTTP Cookie Manager
โ   โโโ HTTP Header Manager (JWT Token)
โ   โโโ Login Request
โ   โ   โโโ JSON Extractor (ูุงุณุชุฎุฑุงุฌ Token)
โ   โโโ Main Requests (Complaints API)
โ   โโโ Listeners (View Results Tree, Summary Report)
โโโ User Defined Variables
โโโ Config Elements
```

### ุงููุชุบูุฑุงุช ุงููููุฉ:
- `baseURL`: `http://localhost:13000`
- `jwtToken`: ูุชู ุชุนุจุฆุชู ุชููุงุฆูุงู ุจุนุฏ Login

---

## 5. ุฎุทูุงุช ุงูุจุฏุก ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก Test Plan ุฃุณุงุณู
1. ุงูุชุญ JMeter
2. Create New Test Plan
3. Add Thread Group (ุนุฏุฏ ุงููุณุชุฎุฏููู: 10)
4. Add HTTP Request Defaults (Server: localhost, Port: 13000)

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ Login Request
1. Add โ Sampler โ HTTP Request
2. Path: `/api/v1/citizen/login`
3. Method: POST
4. Body Data (JSON):
```json
{
  "email": "test@example.com",
  "password": "password123"
}
```
5. Add โ Post Processors โ JSON Extractor
   - Variable name: `jwtToken`
   - JSON Path: `$.token` (ุฃู ุญุณุจ ุงุณุชุฌุงุจุฉ API)

### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ Header Manager
1. Add โ Config Element โ HTTP Header Manager
2. Add Header: `Authorization` = `Bearer ${jwtToken}`

### ุงูุฎุทูุฉ 4: ุฅุถุงูุฉ Request ููุงุฎุชุจุงุฑ
1. Add โ Sampler โ HTTP Request
2. Path: `/api/v1/complaints?page=0&size=10`
3. Method: GET

### ุงูุฎุทูุฉ 5: ุฅุถุงูุฉ Listeners
1. Add โ Listener โ View Results Tree (ููุชุทููุฑ)
2. Add โ Listener โ Summary Report (ูููุชุงุฆุฌ)
3. Add โ Listener โ Aggregate Report

### ุงูุฎุทูุฉ 6: ุชุดุบูู ุงูุงุฎุชุจุงุฑ
1. Save Test Plan
2. Run โ Start

---

## 6. ุงููุคุดุฑุงุช ุงููููุฉ (Key Metrics)

### Response Time (ููุช ุงูุงุณุชุฌุงุจุฉ)
- **Average:** ุงููุชูุณุท
- **Median:** ุงููุณูุท (50th percentile)
- **90th Percentile:** 90% ูู ุงูุทูุจุงุช ุฃุณุฑุน ูู ูุฐุง ุงูููุช
- **95th Percentile:** โญ ุงูุฃูู
- **99th Percentile:** 99% ูู ุงูุทูุจุงุช

### Throughput (ุงูุฅูุชุงุฌูุฉ)
- ุนุฏุฏ ุงูุทูุจุงุช ูู ุงูุซุงููุฉ (Requests/Second)
- ุงููุฏู: > 50 req/sec

### Error Rate (ูุนุฏู ุงูุฃุฎุทุงุก)
- ูุณุจุฉ ุงูุทูุจุงุช ุงููุงุดูุฉ
- ุงููุฏู: < 1%

### Concurrent Users (ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู)
- ุนุฏุฏ ุงููุณุชุฎุฏููู ุงูุฐูู ูุฑุณููู ุทูุจุงุช ูู ููุณ ุงูููุช

---

## 7. ูุตุงุฆุญ ูููุฉ

### โ ูุฌุจ ูุนูู:
- ุงุณุชุฎุฏุงู CSV Data Set Config ูููุณุชุฎุฏููู ุงููุชุนุฏุฏูู
- ุชุนุทูู View Results Tree ูู ุงูุงุฎุชุจุงุฑุงุช ุงููุจูุฑุฉ (ูุณุชููู ุงูุฐุงูุฑุฉ)
- ุงุณุชุฎุฏุงู Non-GUI Mode ููุฃุฏุงุก ุงูุฃูุถู: `jmeter -n -t testplan.jmx -l results.jtl`
- ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู CPU ู RAM ููุฎุงุฏู
- ุงุฎุชุจุงุฑ ุนูู ุจูุฆุฉ ูุดุงุจูุฉ ููุฅูุชุงุฌ

### โ ูุฌุจ ุชุฌูุจู:
- ุนุฏู ุงุณุชุฎุฏุงู View Results Tree ูู ุงูุงุฎุชุจุงุฑุงุช ุงููุจูุฑุฉ
- ุนุฏู ุชุดุบูู JMeter ุนูู ููุณ ุงูุฎุงุฏู ุงููุฑุงุฏ ุงุฎุชุจุงุฑู
- ุนุฏู ุงูุจุฏุก ุจุงุฎุชุจุงุฑุงุช ุถุบุท ูุจูุฑุฉ ูุจุงุดุฑุฉ

---

## 8. ุชุญููู ุงููุชุงุฆุฌ

### ุงููุชุงุฆุฌ ุงูุฌูุฏุฉ:
- Response Time (95th percentile) < ุงููุนุงููุฑ ุงููุฐููุฑุฉ
- Error Rate < 1%
- Throughput ุซุงุจุช ูููุจูู
- ูุง ุชูุฌุฏ Memory Leaks

### ุนูุงูุงุช ุงููุดุงูู:
- Response Time ูุฒุฏุงุฏ ุจูุฑูุฑ ุงูููุช โ Memory Leak ูุญุชูู
- Error Rate ูุฑุชูุน โ ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุงูุฎุงุฏู
- Throughput ูุชุฑุงุฌุน โ Bottleneck ูู ุงููุธุงู

---

## 9. ุฎุทุฉ ุงูุชูุฏู ุงูููุชุฑุญุฉ

### ุงูุฃุณุจูุน ุงูุฃูู:
1. ุชุซุจูุช JMeter
2. ุฅูุดุงุก Test Plan ุจุณูุท ููู Login
3. ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุฌูุจ ุงูุดูุงูู (GET)
4. ุงุฎุชุจุงุฑ ูุน 10 ูุณุชุฎุฏููู ูุชุฒุงูููู

### ุงูุฃุณุจูุน ุงูุซุงูู:
1. ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงูุดูุงูู (POST)
2. ุงุฎุชุจุงุฑ ุฑูุน ุงููููุงุช
3. ุฒูุงุฏุฉ ุงูุนุฏุฏ ุฅูู 50 ูุณุชุฎุฏู ูุชุฒุงูู
4. ุงุฎุชุจุงุฑ Endpoints ุฃุฎุฑู (Search, Filter)

### ุงูุฃุณุจูุน ุงูุซุงูุซ:
1. ุงุฎุชุจุงุฑุงุช ุงูุถุบุท (200+ ูุณุชุฎุฏู)
2. ุงุฎุชุจุงุฑุงุช ุงูุชุญูู (1+ ุณุงุนุฉ)
3. ุงุฎุชุจุงุฑุงุช Spike
4. ุชุญููู ุงููุชุงุฆุฌ ูุชูุซูููุง

---

## 10. ููุงุฑุฏ ุฅุถุงููุฉ

- [JMeter Documentation](https://jmeter.apache.org/usermanual/)
- [JMeter Best Practices](https://jmeter.apache.org/usermanual/best-practices.html)
- [BlazeMeter JMeter Tutorial](https://www.blazemeter.com/blog/jmeter-tutorial)

---

## ููุงุญุธุงุช ุฎุชุงููุฉ

ุงุจุฏุฃ ุจุงูุงุฎุชุจุงุฑุงุช ุงูุจุณูุทุฉ ูุฒุฏ ุงูุชุนููุฏ ุชุฏุฑูุฌูุงู. ุงูุชุฑููุฒ ุนูู ุงูุฃููููุฉ 1 ุฃููุงู (Authentication ู GET/POST Complaints) ุณูุนุทูู ูุธุฑุฉ ูุงุถุญุฉ ุนูู ุฃุฏุงุก ุงููุธุงู ุงูุฃุณุงุณู.

**ุญุธุงู ููููุงู! ๐**

